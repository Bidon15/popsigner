package landing

// Features renders the 6-feature grid
templ Features() {
	<section id="features" class="py-24 px-4 sm:px-6 lg:px-8 relative">
		<!-- Background accent -->
		<div class="absolute inset-0 bg-gradient-to-t from-purple-500/5 via-transparent to-transparent pointer-events-none"></div>
		
		<div class="relative max-w-6xl mx-auto">
			<div class="text-center mb-16">
				<span class="inline-block text-sm font-semibold text-purple-400 uppercase tracking-wider mb-3">Features</span>
				<h2 class="text-3xl md:text-4xl lg:text-5xl font-display font-bold text-terminal-text mb-4">
					Everything you need
				</h2>
				<p class="section-subheading mx-auto">
					Production-ready features out of the box. No assembly required.
				</p>
			</div>

			<div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
				@FeatureCard("ğŸ”", "Vault-Grade Security", "Keys never leave OpenBao. Full audit trail. Powered by battle-tested Vault technology.", "purple")
				@FeatureCard("ğŸ“Š", "Real-time Analytics", "Monitor signing operations, latency, and throughput with built-in dashboards.", "orange")
				@FeatureCard("ğŸ“œ", "Audit Logging", "Complete audit trail for compliance. Know who signed what, when, and from where.", "teal")
				@FeatureCard("ğŸ”—", "Drop-in SDK", "One line of Go or Rust. Cosmos SDK keyring interface compatible.", "purple")
				@FeatureCard("âš¡", "Parallel Workers", "Create multiple signing workers for parallel blob submission with fee grants.", "orange")
				@FeatureCard("ğŸ””", "Webhooks", "Real-time notifications for signing events and security alerts.", "teal")
			</div>
		</div>
	</section>
}

templ FeatureCard(emoji, title, description, accentColor string) {
	<div class={ "group p-6 rounded-xl border transition-all duration-300 hover:scale-[1.02] " + featureCardBg(accentColor) }>
		<div class={ "w-14 h-14 rounded-xl flex items-center justify-center text-2xl mb-5 transition-transform group-hover:scale-110 " + featureIconBg(accentColor) }>
			{ emoji }
		</div>
		<h3 class="text-lg font-display font-semibold text-terminal-text mb-3">{ title }</h3>
		<p class="text-sm text-terminal-muted leading-relaxed">{ description }</p>
	</div>
}

func featureCardBg(color string) string {
	base := "bg-terminal-card/50 border-terminal-border"
	switch color {
	case "purple":
		return base + " hover:border-purple-500/40 hover:bg-purple-500/5"
	case "orange":
		return base + " hover:border-orange-500/40 hover:bg-orange-500/5"
	case "teal":
		return base + " hover:border-teal-500/40 hover:bg-teal-500/5"
	default:
		return base + " hover:border-purple-500/40"
	}
}

func featureIconBg(color string) string {
	switch color {
	case "purple":
		return "bg-purple-500/10 border border-purple-500/20"
	case "orange":
		return "bg-orange-500/10 border border-orange-500/20"
	case "teal":
		return "bg-teal-500/10 border border-teal-500/20"
	default:
		return "bg-terminal-border/50 border border-terminal-border"
	}
}
